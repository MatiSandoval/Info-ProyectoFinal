{% load static %}

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'assets/css/login.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.all.min.js"></script>
    <title>{% block title %} Inicio de Sesión {% endblock title %}</title>
</head>
{% block contenido %}

<body>
    <a href="{% url 'index' %}" class="logo"><img src="{% static '/assets/img/logo.png' %}" class="img-fluid border"
            class="logo"></a>
    <div class="formulario">

        <h1>Inicio de Sesión</h1>

        <form method="post" id="loginForm">
            {% csrf_token %}
            <div class="username">
                <h5>Nombre de Usuario: </h5>
                {{ form.username }}
            </div>
            <div class="contrasena">
                <h5>Contraseña:</h5>
                {{ form.password }}
            </div>
            
            <a class="recordar" href="{% url 'apps.usuario:password_reset' %}" id="olvido">¿Olvidó su contraseña?</a>
            <input type="submit" value="Iniciar Sesión" id="iniciar">
            <div class="registrarse">
                <a href="{% url 'apps.usuario:registrar' %}?next={{ request.GET.next }}">¿Nuevo en A.I.R.E.?
                    Regístrate</a>
            </div>
        </form>
        <script>
            var loginURL = '{% url "apps.usuario:login" %}';
            function mensaje() {
                Swal.fire({
                    icon: 'error',
                    title: 'Error al iniciar sesión',
                    text: 'Parece que algo estuvo mal',
                    footer: '',
                })
            }
            function mensaje2() {
                var x = "{% url 'index' %}";
                Swal.fire({
                    icon: 'success',
                    title: '¡Has iniciado sesión correctamente!',
                    text: '',
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'Ir a Inicio',
                }).then((result) => {
                    // El usuario hizo clic en el botón "Ir a Iniciar Sesión"
                    if (result.isConfirmed) {
                        // Redirige a la página de inicio de sesión
                        window.location.href = x;
                    }
                });
            }
        </script>
        <script src="{% static 'assets/js/sweetalert2.js' %}"></script>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.min.js"></script>
    
    <link rel="stylesheet" href="sweetalert2.min.css">
    
</body>
{% endblock contenido %}

</html>